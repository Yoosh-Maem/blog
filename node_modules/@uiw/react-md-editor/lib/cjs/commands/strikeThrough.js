"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard").default;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.strikethrough = void 0;

var React = _interopRequireWildcard(require("react"));

var _markdownUtils = require("../utils/markdownUtils");

var strikethrough = {
  name: 'strikethrough',
  keyCommand: 'strikethrough',
  shortcuts: 'ctrl+shift+x',
  buttonProps: {
    'aria-label': 'Add strikethrough text',
    title: 'Add strikethrough text'
  },
  icon: /*#__PURE__*/React.createElement("svg", {
    "data-name": "strikethrough",
    width: "12",
    height: "12",
    role: "img",
    viewBox: "0 0 512 512"
  }, /*#__PURE__*/React.createElement("path", {
    fill: "currentColor",
    d: "M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"
  })),
  execute: function execute(state, api) {
    // Adjust the selection to encompass the whole word if the caret is inside one
    var newSelectionRange = (0, _markdownUtils.selectWord)({
      text: state.text,
      selection: state.selection
    });
    var state1 = api.setSelectionRange(newSelectionRange); // Replaces the current selection with the strikethrough mark up

    var state2 = api.replaceSelection("~~".concat(state1.selectedText, "~~")); // Adjust the selection to not contain the ~~

    api.setSelectionRange({
      start: state2.selection.end - 2 - state1.selectedText.length,
      end: state2.selection.end - 2
    });
  }
};
exports.strikethrough = strikethrough;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tYW5kcy9zdHJpa2VUaHJvdWdoLnRzeCJdLCJuYW1lcyI6WyJzdHJpa2V0aHJvdWdoIiwibmFtZSIsImtleUNvbW1hbmQiLCJzaG9ydGN1dHMiLCJidXR0b25Qcm9wcyIsInRpdGxlIiwiaWNvbiIsImV4ZWN1dGUiLCJzdGF0ZSIsImFwaSIsIm5ld1NlbGVjdGlvblJhbmdlIiwidGV4dCIsInNlbGVjdGlvbiIsInN0YXRlMSIsInNldFNlbGVjdGlvblJhbmdlIiwic3RhdGUyIiwicmVwbGFjZVNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsInN0YXJ0IiwiZW5kIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFFTyxJQUFNQSxhQUF1QixHQUFHO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUUsZUFEK0I7QUFFckNDLEVBQUFBLFVBQVUsRUFBRSxlQUZ5QjtBQUdyQ0MsRUFBQUEsU0FBUyxFQUFFLGNBSDBCO0FBSXJDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRSxrQkFBYyx3QkFBaEI7QUFBMENDLElBQUFBLEtBQUssRUFBRTtBQUFqRCxHQUp3QjtBQUtyQ0MsRUFBQUEsSUFBSSxlQUNGO0FBQUssaUJBQVUsZUFBZjtBQUErQixJQUFBLEtBQUssRUFBQyxJQUFyQztBQUEwQyxJQUFBLE1BQU0sRUFBQyxJQUFqRDtBQUFzRCxJQUFBLElBQUksRUFBQyxLQUEzRDtBQUFpRSxJQUFBLE9BQU8sRUFBQztBQUF6RSxrQkFDRTtBQUNFLElBQUEsSUFBSSxFQUFDLGNBRFA7QUFFRSxJQUFBLENBQUMsRUFBQztBQUZKLElBREYsQ0FObUM7QUFhckNDLEVBQUFBLE9BQU8sRUFBRSxpQkFBQ0MsS0FBRCxFQUFtQkMsR0FBbkIsRUFBb0M7QUFDM0M7QUFDQSxRQUFNQyxpQkFBaUIsR0FBRywrQkFBVztBQUFFQyxNQUFBQSxJQUFJLEVBQUVILEtBQUssQ0FBQ0csSUFBZDtBQUFvQkMsTUFBQUEsU0FBUyxFQUFFSixLQUFLLENBQUNJO0FBQXJDLEtBQVgsQ0FBMUI7QUFDQSxRQUFNQyxNQUFNLEdBQUdKLEdBQUcsQ0FBQ0ssaUJBQUosQ0FBc0JKLGlCQUF0QixDQUFmLENBSDJDLENBSTNDOztBQUNBLFFBQU1LLE1BQU0sR0FBR04sR0FBRyxDQUFDTyxnQkFBSixhQUEwQkgsTUFBTSxDQUFDSSxZQUFqQyxRQUFmLENBTDJDLENBTTNDOztBQUNBUixJQUFBQSxHQUFHLENBQUNLLGlCQUFKLENBQXNCO0FBQ3BCSSxNQUFBQSxLQUFLLEVBQUVILE1BQU0sQ0FBQ0gsU0FBUCxDQUFpQk8sR0FBakIsR0FBdUIsQ0FBdkIsR0FBMkJOLE1BQU0sQ0FBQ0ksWUFBUCxDQUFvQkcsTUFEbEM7QUFFcEJELE1BQUFBLEdBQUcsRUFBRUosTUFBTSxDQUFDSCxTQUFQLENBQWlCTyxHQUFqQixHQUF1QjtBQUZSLEtBQXRCO0FBSUQ7QUF4Qm9DLENBQWhDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSUNvbW1hbmQsIFRleHRTdGF0ZSwgVGV4dEFwaSB9IGZyb20gJy4vJztcbmltcG9ydCB7IHNlbGVjdFdvcmQgfSBmcm9tICcuLi91dGlscy9tYXJrZG93blV0aWxzJztcblxuZXhwb3J0IGNvbnN0IHN0cmlrZXRocm91Z2g6IElDb21tYW5kID0ge1xuICBuYW1lOiAnc3RyaWtldGhyb3VnaCcsXG4gIGtleUNvbW1hbmQ6ICdzdHJpa2V0aHJvdWdoJyxcbiAgc2hvcnRjdXRzOiAnY3RybCtzaGlmdCt4JyxcbiAgYnV0dG9uUHJvcHM6IHsgJ2FyaWEtbGFiZWwnOiAnQWRkIHN0cmlrZXRocm91Z2ggdGV4dCcsIHRpdGxlOiAnQWRkIHN0cmlrZXRocm91Z2ggdGV4dCcgfSxcbiAgaWNvbjogKFxuICAgIDxzdmcgZGF0YS1uYW1lPVwic3RyaWtldGhyb3VnaFwiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHJvbGU9XCJpbWdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIj5cbiAgICAgIDxwYXRoXG4gICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICBkPVwiTTQ5NiAyODhIMTZjLTguODM3IDAtMTYtNy4xNjMtMTYtMTZ2LTMyYzAtOC44MzcgNy4xNjMtMTYgMTYtMTZoNDgwYzguODM3IDAgMTYgNy4xNjMgMTYgMTZ2MzJjMCA4LjgzNy03LjE2MyAxNi0xNiAxNnptLTIxNC42NjYgMTZjMjcuMjU4IDEyLjkzNyA0Ni41MjQgMjguNjgzIDQ2LjUyNCA1Ni4yNDMgMCAzMy4xMDgtMjguOTc3IDUzLjY3Ni03NS42MjEgNTMuNjc2LTMyLjMyNSAwLTc2Ljg3NC0xMi4wOC03Ni44NzQtNDQuMjcxVjM2OGMwLTguODM3LTcuMTY0LTE2LTE2LTE2SDExMy43NWMtOC44MzYgMC0xNiA3LjE2My0xNiAxNnYxOS4yMDRjMCA2Ni44NDUgNzcuNzE3IDEwMS44MiAxNTQuNDg3IDEwMS44MiA4OC41NzggMCAxNjIuMDEzLTQ1LjQzOCAxNjIuMDEzLTEzNC40MjQgMC0xOS44MTUtMy42MTgtMzYuNDE3LTEwLjE0My01MC42SDI4MS4zMzR6bS0zMC45NTItOTZjLTMyLjQyMi0xMy41MDUtNTYuODM2LTI4Ljk0Ni01Ni44MzYtNTkuNjgzIDAtMzMuOTIgMzAuOTAxLTQ3LjQwNiA2NC45NjItNDcuNDA2IDQyLjY0NyAwIDY0Ljk2MiAxNi41OTMgNjQuOTYyIDMyLjk4NVYxMzZjMCA4LjgzNyA3LjE2NCAxNiAxNiAxNmg0NS42MTNjOC44MzYgMCAxNi03LjE2MyAxNi0xNnYtMzAuMzE4YzAtNTIuNDM4LTcxLjcyNS03OS44NzUtMTQyLjU3NS03OS44NzUtODUuMjAzIDAtMTUwLjcyNiA0MC45NzItMTUwLjcyNiAxMjUuNjQ2IDAgMjIuNzEgNC42NjUgNDEuMTc2IDEyLjc3NyA1Ni41NDdoMTI5LjgyM3pcIlxuICAgICAgLz5cbiAgICA8L3N2Zz5cbiAgKSxcbiAgZXhlY3V0ZTogKHN0YXRlOiBUZXh0U3RhdGUsIGFwaTogVGV4dEFwaSkgPT4ge1xuICAgIC8vIEFkanVzdCB0aGUgc2VsZWN0aW9uIHRvIGVuY29tcGFzcyB0aGUgd2hvbGUgd29yZCBpZiB0aGUgY2FyZXQgaXMgaW5zaWRlIG9uZVxuICAgIGNvbnN0IG5ld1NlbGVjdGlvblJhbmdlID0gc2VsZWN0V29yZCh7IHRleHQ6IHN0YXRlLnRleHQsIHNlbGVjdGlvbjogc3RhdGUuc2VsZWN0aW9uIH0pO1xuICAgIGNvbnN0IHN0YXRlMSA9IGFwaS5zZXRTZWxlY3Rpb25SYW5nZShuZXdTZWxlY3Rpb25SYW5nZSk7XG4gICAgLy8gUmVwbGFjZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHdpdGggdGhlIHN0cmlrZXRocm91Z2ggbWFyayB1cFxuICAgIGNvbnN0IHN0YXRlMiA9IGFwaS5yZXBsYWNlU2VsZWN0aW9uKGB+fiR7c3RhdGUxLnNlbGVjdGVkVGV4dH1+fmApO1xuICAgIC8vIEFkanVzdCB0aGUgc2VsZWN0aW9uIHRvIG5vdCBjb250YWluIHRoZSB+flxuICAgIGFwaS5zZXRTZWxlY3Rpb25SYW5nZSh7XG4gICAgICBzdGFydDogc3RhdGUyLnNlbGVjdGlvbi5lbmQgLSAyIC0gc3RhdGUxLnNlbGVjdGVkVGV4dC5sZW5ndGgsXG4gICAgICBlbmQ6IHN0YXRlMi5zZWxlY3Rpb24uZW5kIC0gMixcbiAgICB9KTtcbiAgfSxcbn07XG4iXX0=